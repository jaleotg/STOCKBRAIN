<!-- USER PROFILE MODAL -->
<div id="sb-user-modal" class="sb-modal" style="display:none;">
    <div class="sb-modal-dialog">
        <div class="sb-modal-header">
            <h2 class="sb-modal-title">Edit user data</h2>
            <button type="button" class="sb-modal-close" id="sb-user-close">✕</button>
        </div>
        <form id="sb-user-form">
            <div class="sb-modal-body">
                <div class="sb-inline-fields">
                    <div class="sb-add-field">
                        <label>First name</label>
                        <input type="text" id="sb-user-first" readonly>
                    </div>
                    <div class="sb-add-field">
                        <label>Last name</label>
                        <input type="text" id="sb-user-last" readonly>
                    </div>
                </div>
                <div class="sb-add-field">
                    <label for="sb-user-preferred">Preferred name</label>
                    <input type="text" id="sb-user-preferred" name="preferred_name">
                </div>
                <div class="sb-add-field">
                    <label>Groups</label>
                    <input type="text" id="sb-user-groups" readonly>
                </div>
                <div class="sb-add-field">
                    <label for="sb-user-email">E-mail</label>
                    <input type="email" id="sb-user-email" name="email" required>
                    <div class="sb-field-hint">Email changes require confirmation in the new address.</div>
                </div>
                <hr class="sb-user-divider">
                <div class="sb-inline-fields">
                    <div class="sb-add-field">
                        <label for="sb-user-oldpw">Current password</label>
                        <input type="password"
                               id="sb-user-oldpw"
                               name="old_password"
                               placeholder="Leave blank to keep"
                               autocomplete="current-password">
                    </div>
                    <div class="sb-add-field">
                        <label for="sb-user-newpw">New password</label>
                        <input type="password"
                               id="sb-user-newpw"
                               name="new_password"
                               placeholder="Leave blank to keep"
                               autocomplete="new-password">
                    </div>
                    <div class="sb-add-field">
                        <label for="sb-user-newpw2">Confirm new password</label>
                        <input type="password"
                               id="sb-user-newpw2"
                               name="new_password_confirm"
                               placeholder="Repeat new password"
                               autocomplete="new-password">
                    </div>
                </div>
                <div class="sb-inline-fields">
                    <div class="sb-add-field">
                        <label>Last login (previous)</label>
                        <input type="text" id="sb-user-last-login" readonly>
                    </div>
                    <div class="sb-add-field">
                        <label>Current login</label>
                        <input type="text" id="sb-user-current-login" readonly>
                    </div>
                </div>
                <div id="sb-user-error" class="sb-validation" style="display:none;"></div>
            </div>
            <div class="sb-modal-footer">
                <button type="button" class="sb-btn sb-btn-secondary" id="sb-user-cancel">Cancel</button>
                <button type="submit" class="sb-btn sb-btn-primary">Save</button>
            </div>
        </form>
    </div>
</div>

<!-- USER SETTINGS MODAL -->
<div id="sb-settings-modal" class="sb-modal" style="display:none;">
    <div class="sb-modal-dialog">
        <div class="sb-modal-header">
            <h2 class="sb-modal-title">Settings</h2>
            <button type="button" class="sb-modal-close" id="sb-settings-close">✕</button>
        </div>
        <form id="sb-settings-form">
            <div class="sb-modal-body">
                <div class="sb-setting-row">
                    <div class="sb-setting-text">After Log In Go To WL list</div>
                    <label class="sb-toggle">
                        <input type="checkbox" id="sb-setting-wl" checked>
                        <span class="sb-toggle-track">
                            <span class="sb-toggle-thumb"></span>
                        </span>
                    </label>
                </div>
                <div class="sb-setting-row">
                    <div class="sb-setting-text">Prefer dark theme</div>
                    <label class="sb-toggle">
                        <input type="checkbox" id="sb-setting-dark" checked>
                        <span class="sb-toggle-track">
                            <span class="sb-toggle-thumb"></span>
                        </span>
                    </label>
                </div>
                {% if request.user.username == "leo-admin" %}
                <div class="sb-setting-row" id="sb-setting-gtfo-row">
                    <div class="sb-setting-text">Force time of day</div>
                    <label class="sb-toggle">
                        <input type="checkbox" id="sb-setting-gtfo-override" checked>
                        <span class="sb-toggle-track">
                            <span class="sb-toggle-thumb"></span>
                        </span>
                    </label>
                </div>
                {% endif %}
                <div id="sb-settings-error" class="sb-validation" style="display:none;"></div>
            </div>
            <div class="sb-modal-footer">
                <button type="button" class="sb-btn sb-btn-secondary" id="sb-settings-cancel">Cancel</button>
                <button type="submit" class="sb-btn sb-btn-primary">Save</button>
            </div>
        </form>
    </div>
</div>
